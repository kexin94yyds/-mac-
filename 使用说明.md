# 📱 屏幕使用时间查询工具

这个工具可以帮您查询 Mac 上各个应用的使用时长，就像 iPhone 上的屏幕使用时间功能一样。

## 🚀 快速开始

### 1. 设置权限（重要！）
第一次使用前，需要给 Terminal 授权：
1. 打开 `系统设置` → `隐私与安全性` → `完全磁盘访问`
2. 点击 `+` 号，添加 `Terminal` 应用
3. 确保 Terminal 旁边的开关是开启状态

### 2. 使用方法

**最简单的方式：**
```bash
./st
```

**查看不同时间范围：**
```bash
./st 7      # 过去7天
./st 30     # 过去30天
./st week   # 过去一周
./st month  # 过去一个月
```

**导出数据：**
```bash
./st export        # 导出过去24小时的数据到JSON文件
./st export 7      # 导出过去7天的数据
```

**查看帮助：**
```bash
./st help
```

## 📊 示例输出

```
📱 过去 24 小时 应用使用时长报告
==================================================
📊 总使用时长：8小时32分钟
--------------------------------------------------
 1. Safari                      2小时15分钟 (26.4%)
 2. Visual Studio Code          1小时48分钟 (21.1%)
 3. 微信                         45分钟 (8.8%)
 4. 音乐                         32分钟 (6.2%)
 5. 邮件                         28分钟 (5.5%)
```

## 🔧 高级用法

如果想直接使用 Python 脚本：
```bash
python3 screen_time_checker.py
python3 screen_time_checker.py 7
python3 screen_time_checker.py export 30
```

## ❓ 常见问题

**Q: 显示 "❌ 无法访问数据库"**
A: 需要在系统设置中给 Terminal 添加"完全磁盘访问"权限

**Q: 没有显示数据或数据很少**
A: 可能是 macOS 版本较新或者最近重装了系统，需要使用一段时间后才有数据

**Q: 应用名称显示不正确**
A: 脚本会尝试自动识别应用名称，部分应用可能显示为英文名或 bundle ID

## 📁 文件说明

- `screen_time_checker.py` - 主要的 Python 脚本
- `st` - 快速启动脚本
- `使用说明.md` - 本说明文件

## 🎯 小贴士

- 可以把这个文件夹添加到 PATH 环境变量中，这样在任何地方都可以直接使用 `st` 命令
- 导出的 JSON 文件可以用于进一步的数据分析或可视化
- 这个工具读取的是系统内置的数据库，数据准确度很高